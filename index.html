<!DOCTYPE html>
<html>
<head>
  <title>Button example</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <button id="checkMembership">Проверить участие</button>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      let checkMembershipButton = document.getElementById('checkMembership');
      checkMembershipButton.addEventListener("click", checkMembership);
    });

    function checkMembership() {
      let userId = window.Telegram.WebApp.initDataUnsafe.user.id;
      fetchMembership(userId);
    }

    async function fetchMembership(userId) {
      const bot = new TeleBot({
        token: 'your_bot_token_here'
      });

      try {
        const channel_info = await bot.getChatMember({ chatId: -1001982399686, userId });

        const channel_info2 = await bot.getChatMember({ chatId: -1001670297351, userId });

        if (
          channel_info.status === 'member' ||
          channel_info.status === 'creator' ||
          channel_info.status === 'administrator' ||
          channel_info2.status === 'member' ||
          channel_info2.status === 'creator' ||
          channel_info2.status === 'administrator'
        ) {
          console.log('User is a member, creator, or administrator in at least one channel');

          bot.sendMessage(userId, 'Привет, это сообщение от бота!');
        } else {
          console.log('User is not a member, creator, or administrator in any channel');
        }
      } catch (e) {
        console.error('Error:', e);
      }
    }
  </script>
</body>
</html>